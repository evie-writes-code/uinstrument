#N canvas 658 23 769 855 10;
#N canvas 249 169 1037 542 dual_oscillator 0;
#X obj 44 331 phasor~;
#X obj 44 352 *~ 2;
#X obj 44 383 -~ 1;
#X obj 84 383 expr~ (floor($v1) * 2) - 1;
#X obj 44 464 *~, f 5;
#X obj 84 464 *~, f 5;
#X obj 44 515 outlet~;
#X obj 71 443 expr~ 1 - $v1;
#X obj 494 32 inlet~;
#X text 487 11 note in~;
#X obj 59 32 inlet~;
#X text 52 11 env in~;
#X obj 494 93 *~;
#X obj 509 73 r \$0-note_onto_oscil_note_s;
#X obj 696 128 *~;
#X obj 711 108 r \$0-note_onto_oscil_mix_s;
#X obj 271 324 r \$0-oscil_mix_s;
#X obj 44 284 +~;
#X obj 59 263 r \$0-oscil_note_s;
#X obj 44 305 mtof~;
#X text 290 350 mix (0-1 \, 0 square \, 1 sawtooth);
#X obj 256 345 +~;
#X obj 59 93 *~;
#X obj 256 48 *~;
#X obj 44 63 r \$0-envelope_onto_oscil_note_s;
#X obj 271 28 r \$0-envelope_onto_oscil_mix_s;
#X obj 696 69 /~ 64;
#X obj 696 48 -~ 63;
#X obj 44 113 -~;
#X obj 67 175 r \$0-velocity_onto_oscil_note_s;
#X msg 52 215 \$1 20;
#X obj 52 236 line~;
#X obj 52 133 r \$0-new_velocity;
#X obj 52 154 / 127;
#X obj 52 195 *;
#X msg 268 281 \$1 20;
#X obj 268 302 line~;
#X obj 268 199 r \$0-new_velocity;
#X obj 268 220 / 127;
#X obj 268 261 *;
#X obj 283 241 r \$0-velocity_onto_oscil_mix_s;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 7 0 4 1;
#X connect 8 0 12 0;
#X connect 8 0 27 0;
#X connect 10 0 22 0;
#X connect 10 0 23 0;
#X connect 12 0 17 0;
#X connect 13 0 12 1;
#X connect 14 0 21 0;
#X connect 15 0 14 1;
#X connect 16 0 21 1;
#X connect 17 0 19 0;
#X connect 18 0 17 1;
#X connect 19 0 0 0;
#X connect 21 0 7 0;
#X connect 21 0 5 1;
#X connect 22 0 28 1;
#X connect 23 0 21 0;
#X connect 24 0 22 1;
#X connect 24 0 28 0;
#X connect 25 0 23 1;
#X connect 26 0 14 0;
#X connect 27 0 26 0;
#X connect 28 0 17 0;
#X connect 29 0 34 1;
#X connect 30 0 31 0;
#X connect 31 0 17 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 30 0;
#X connect 35 0 36 0;
#X connect 36 0 21 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 35 0;
#X connect 40 0 39 1;
#X restore 50 594 pd dual_oscillator;
#N canvas 146 328 1142 647 filter 1;
#X obj 44 581 outlet~;
#X obj 44 552 vcf~;
#X obj 629 42 inlet~;
#X text 622 21 note in~;
#X obj 129 42 inlet~;
#X text 122 21 env in~;
#X obj 629 149 *~;
#X obj 841 138 *~;
#X obj 129 394 +~;
#X obj 391 415 +~;
#X obj 129 143 *~;
#X obj 391 58 *~;
#X msg 144 285 \$1 20;
#X obj 144 306 line~;
#X obj 144 163 r \$0-new_velocity;
#X obj 144 184 / 127;
#X obj 144 244 *;
#X msg 403 321 \$1 20;
#X obj 403 342 line~;
#X obj 403 239 r \$0-new_velocity;
#X obj 403 260 / 127;
#X obj 403 301 *;
#X obj 144 102 r \$0-envelope_onto_filter_cutoff_s;
#X obj 44 42 inlet~;
#X text 37 21 signal in~;
#X obj 144 373 r \$0-filter_cutoff_s;
#X obj 406 38 r \$0-envelope_onto_filter_q_s;
#X obj 418 281 r \$0-velocity_onto_filter_q_s;
#X obj 406 394 r \$0-filter_q_s;
#X obj 644 106 r \$0-note_onto_filter_cutoff_s;
#X obj 856 118 r \$0-note_onto_filter_q_s;
#X obj 391 479 snapshot~;
#X obj 399 435 loadbang;
#X obj 399 456 metro 20;
#X obj 129 64 *~ 20000;
#X obj 129 344 *~;
#X obj 144 265 + 1;
#X obj 144 123 expr copysign(pow($f1 \, 2) \, $f1);
#X obj 159 224 expr copysign(pow($f1 \, 2) \, $f1);
#X obj 159 204 r \$0-velocity_onto_filter_cutoff_s;
#X obj 644 128 expr copysign(pow($f1 \, 2) \, $f1);
#X obj 629 63 /~ 127;
#X connect 1 0 0 0;
#X connect 1 1 0 0;
#X connect 2 0 41 0;
#X connect 4 0 11 0;
#X connect 4 0 34 0;
#X connect 6 0 35 1;
#X connect 7 0 9 0;
#X connect 8 0 1 1;
#X connect 9 0 31 0;
#X connect 10 0 35 0;
#X connect 11 0 9 0;
#X connect 12 0 13 0;
#X connect 13 0 35 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 36 0;
#X connect 17 0 18 0;
#X connect 18 0 9 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 17 0;
#X connect 22 0 37 0;
#X connect 23 0 1 0;
#X connect 25 0 8 1;
#X connect 26 0 11 1;
#X connect 27 0 21 1;
#X connect 28 0 9 1;
#X connect 29 0 40 0;
#X connect 30 0 7 1;
#X connect 31 0 1 2;
#X connect 32 0 33 0;
#X connect 33 0 31 0;
#X connect 34 0 10 0;
#X connect 35 0 8 0;
#X connect 36 0 12 0;
#X connect 37 0 10 1;
#X connect 38 0 16 1;
#X connect 39 0 38 0;
#X connect 40 0 6 1;
#X connect 41 0 7 0;
#X connect 41 0 6 0;
#X restore 50 635 pd filter;
#X obj 50 696 outlet~;
#N canvas 355 401 450 300 note 0;
#X obj 112 15 inlet;
#X obj 112 260 outlet~;
#X obj 157 15 inlet;
#X obj 112 197 pack f f;
#X obj 157 177 +;
#X obj 165 158 t b f;
#X obj 165 137 r \$0-note_glide_s;
#X msg 112 218 \$1 \$2;
#X obj 112 239 line~;
#X obj 157 36 * 100;
#X obj 157 57 / 127;
#X obj 157 108 *;
#X obj 172 88 r \$0-velocity_onto_note_glide_s;
#X connect 0 0 3 0;
#X connect 2 0 9 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 12 0 11 1;
#X restore 165 552 pd note;
#N canvas 178 112 812 489 envelope 0;
#X obj 147 37 inlet;
#X obj 44 415 outlet~;
#X obj 237 37 inlet;
#X obj 257 181 r \$0-envelope_attack_s;
#X obj 257 202 t b f;
#X obj 147 312 f;
#X msg 147 333 1 \$1;
#X obj 44 374 line~;
#X obj 44 37 inlet;
#X obj 506 202 t b f;
#X obj 44 312 f;
#X msg 44 333 0 \$1;
#X text 115 16 trigger attack;
#X text 12 16 trigger release;
#X obj 506 181 r \$0-envelope_release_s;
#X obj 252 100 r \$0-velocity_onto_envelope_attack_s;
#X obj 501 100 r \$0-velocity_onto_envelope_release_s;
#X text 225 16 velocity;
#X obj 237 78 t f f, f 42;
#X obj 237 58 / 127;
#X obj 237 226 *, f 5;
#X obj 486 226 *, f 5;
#X obj 44 395 pow~ 2;
#X obj 237 121 *;
#X obj 486 121 *;
#X obj 237 142 + 1;
#X obj 486 142 + 1;
#X connect 0 0 5 0;
#X connect 2 0 19 0;
#X connect 3 0 4 0;
#X connect 4 0 20 0;
#X connect 4 1 20 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 22 0;
#X connect 8 0 10 0;
#X connect 9 0 21 0;
#X connect 9 1 21 1;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 14 0 9 0;
#X connect 15 0 23 1;
#X connect 16 0 24 1;
#X connect 18 0 23 0;
#X connect 18 1 24 0;
#X connect 19 0 18 0;
#X connect 20 0 5 1;
#X connect 21 0 10 1;
#X connect 22 0 1 0;
#X connect 23 0 25 0;
#X connect 24 0 26 0;
#X connect 25 0 20 0;
#X connect 26 0 21 0;
#X restore 50 551 pd envelope;
#N canvas 0 23 688 514 initialise 0;
#X obj 562 26 loadbang;
#X msg 41 42 1;
#X obj 41 63 s \$0-note_glide_r;
#X obj 161 63 s \$0-envelope_attack_r;
#X msg 322 42 100;
#X obj 322 63 s \$0-envelope_release_r;
#X obj 562 216 loadbang;
#X obj 41 253 s \$0-oscil_note_r;
#X msg 41 232 0;
#X obj 161 253 s \$0-oscil_mix_r;
#X msg 161 232 1;
#X obj 322 253 s \$0-filter_cutoff_r;
#X obj 462 253 s \$0-filter_q_r;
#X msg 462 232 1;
#X obj 161 286 loadbang;
#X obj 462 286 loadbang;
#X obj 161 96 loadbang;
#X obj 462 96 loadbang;
#X obj 41 133 s \$0-velocity_onto_note_glide_r;
#X msg 41 112 0;
#X obj 161 173 s \$0-velocity_onto_envelope_attack_r;
#X obj 322 133 s \$0-velocity_onto_envelope_release_r;
#X msg 322 112 0;
#X obj 41 323 s \$0-note_onto_oscil_note_r;
#X msg 41 302 1;
#X obj 161 363 s \$0-note_onto_oscil_mix_r;
#X msg 161 342 0;
#X obj 322 323 s \$0-note_onto_filter_cutoff_r;
#X msg 322 302 0;
#X obj 462 363 s \$0-note_onto_filter_q_r;
#X msg 462 342 0;
#X obj 161 386 loadbang;
#X obj 462 386 loadbang;
#X obj 41 423 s \$0-envelope_onto_oscil_note_r;
#X obj 161 463 s \$0-envelope_onto_oscil_mix_r;
#X obj 322 423 s \$0-envelope_onto_filter_cutoff_r;
#X obj 462 463 s \$0-envelope_onto_filter_q_r;
#X msg 41 402 0;
#X msg 161 442 0;
#X msg 462 442 0;
#X msg 322 402 0.25;
#X msg 322 232 0;
#X msg 161 42 100;
#X msg 161 152 0;
#X connect 0 0 1 0;
#X connect 0 0 42 0;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 4 0 5 0;
#X connect 6 0 8 0;
#X connect 6 0 10 0;
#X connect 6 0 41 0;
#X connect 6 0 13 0;
#X connect 8 0 7 0;
#X connect 10 0 9 0;
#X connect 13 0 12 0;
#X connect 14 0 24 0;
#X connect 14 0 26 0;
#X connect 15 0 30 0;
#X connect 15 0 28 0;
#X connect 16 0 19 0;
#X connect 16 0 43 0;
#X connect 17 0 22 0;
#X connect 19 0 18 0;
#X connect 22 0 21 0;
#X connect 24 0 23 0;
#X connect 26 0 25 0;
#X connect 28 0 27 0;
#X connect 30 0 29 0;
#X connect 31 0 37 0;
#X connect 31 0 38 0;
#X connect 32 0 39 0;
#X connect 32 0 40 0;
#X connect 37 0 33 0;
#X connect 38 0 34 0;
#X connect 39 0 36 0;
#X connect 40 0 35 0;
#X connect 41 0 11 0;
#X connect 42 0 3 0;
#X connect 43 0 20 0;
#X restore 355 85 pd initialise;
#X obj 224 58 cnv 15 20 215 empty empty empty 20 12 0 14 -255810 -66577
0;
#X obj 49 143 cnv 15 205 25 empty empty empty 20 12 0 14 -196159 -66577
0;
#X obj 49 173 cnv 15 205 25 empty empty empty 20 12 0 14 -196159 -66577
0;
#X obj 49 213 cnv 15 205 25 empty empty empty 20 12 0 14 -196159 -66577
0;
#X obj 49 243 cnv 15 205 25 empty empty empty 20 12 0 14 -196159 -66577
0;
#X floatatom 171 148 5 0 0 0 - #0-oscil_note_r #0-oscil_note_s, f
5;
#X floatatom 171 178 5 0 0 0 - #0-oscil_mix_r #0-oscil_mix_s, f 5
;
#X floatatom 171 218 5 0 0 0 - #0-filter_cutoff_r #0-filter_cutoff_s
, f 5;
#X floatatom 171 248 5 0 0 0 - #0-filter_q_r #0-filter_q_s, f 5;
#X floatatom 59 148 5 0 0 0 - #0-note_onto_oscil_note_r #0-note_onto_oscil_note_s
, f 5;
#X floatatom 59 178 5 0 0 0 - #0-note_onto_oscil_mix_r #0-note_onto_oscil_mix_s
, f 5;
#X floatatom 59 218 5 0 0 0 - #0-note_onto_filter_cutoff_r #0-note_onto_filter_cutoff_s
, f 5;
#X floatatom 59 247 5 0 0 0 - #0-note_onto_filter_q_r #0-note_onto_filter_q_s
, f 5;
#X floatatom 99 148 5 0 0 0 - #0-envelope_onto_oscil_note_r #0-envelope_onto_oscil_note_s
, f 5;
#X floatatom 99 178 5 0 0 0 - #0-envelope_onto_oscil_mix_r #0-envelope_onto_oscil_mix_s
, f 5;
#X floatatom 99 218 5 0 0 0 - #0-envelope_onto_filter_cutoff_r #0-envelope_onto_filter_cutoff_s
, f 5;
#X floatatom 99 247 5 0 0 0 - #0-envelope_onto_filter_q_r #0-envelope_onto_filter_q_s
, f 5;
#X text 139 148 note;
#X text 140 177 mix;
#X text 139 217 cut;
#X text 139 247 q;
#X obj 169 248 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 169 218 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 169 178 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 169 148 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 49 55 cnv 15 195 20 empty empty empty 20 12 0 14 -255810 -66577
0;
#X floatatom 59 98 5 0 0 0 - #0-note_glide_r #0-note_glide_s, f 5
;
#X floatatom 100 58 5 0 0 0 - #0-velocity_onto_envelope_attack_r #0-velocity_onto_envelope_attack_s
, f 5;
#X floatatom 138 58 5 0 0 0 - #0-velocity_onto_envelope_release_r #0-velocity_onto_envelope_release_s
, f 5;
#X floatatom 100 98 5 0 0 0 - #0-envelope_attack_r #0-envelope_attack_s
, f 5;
#X floatatom 138 98 5 0 0 0 - #0-envelope_release_r #0-envelope_release_s
, f 5;
#X floatatom 60 58 5 0 0 0 - #0-velocity_onto_note_glide_r #0-velocity_onto_note_glide_s
, f 5;
#X text 58 81 glide;
#X text 103 81 atk;
#X text 141 81 rel;
#X obj 54 48 cnv 2 2 225 empty empty empty 20 12 0 14 -1 -66577 0;
#X obj 94 48 cnv 2 2 225 empty empty empty 20 12 0 14 -1 -66577 0;
#X obj 135 140 cnv 2 2 133 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 173 48 cnv 2 2 88 empty empty empty 20 12 0 14 -1 -66577 0;
#X text 60 117 note;
#X text 107 117 envelope;
#X obj 135 137 cnv 2 40 2 empty empty empty 20 12 0 14 -1 -66577 0
;
#X obj 136 98 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0;
#X obj 98 98 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0;
#X obj 58 98 cnv 2 2 15 empty empty empty 20 12 0 14 -1 -66577 0;
#X floatatom 215 148 5 0 0 0 - #0-velocity_onto_oscil_note_r #0-velocity_onto_oscil_note_s
, f 5;
#X floatatom 215 178 5 0 0 0 - #0-velocity_onto_oscil_mix_r #0-velocity_onto_oscil_mix_s
, f 5;
#X floatatom 215 218 5 0 0 0 - #0-velocity_onto_filter_cutoff_r #0-velocity_onto_filter_cutoff_s
, f 5;
#X floatatom 215 248 5 0 0 0 - #0-velocity_onto_filter_q_r #0-velocity_onto_filter_q_s
, f 5;
#X obj 50 358 inlet;
#X obj 50 379 route 0;
#N canvas 206 161 509 532 midi_input_processing 0;
#X obj 36 29 inlet;
#X obj 36 50 usrcmidi/mono;
#X msg 36 92 \$2;
#X obj 36 71 t list list;
#X obj 36 134 list append;
#X text 119 100 separates note-on and note-off messages;
#X obj 36 113 == 0;
#X obj 244 209 list prepend;
#X msg 244 272 1;
#X msg 36 200 0;
#X obj 36 179 t b b, f 7;
#X obj 203 386 loadbang;
#X msg 203 407 0;
#X obj 244 250 t b list;
#X obj 203 428 s \$0-set_flip_flop;
#X obj 36 221 s \$0-set_flip_flop;
#X obj 244 292 s \$0-set_flip_flop;
#X obj 313 189 r \$0-set_flip_flop;
#X obj 289 270 outlet;
#X obj 360 246 outlet;
#X obj 75 200 outlet;
#X obj 36 155 route 1 0, f 70;
#X obj 244 230 route 0 1;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 3 1 4 1;
#X connect 4 0 21 0;
#X connect 6 0 4 0;
#X connect 7 0 22 0;
#X connect 8 0 16 0;
#X connect 9 0 15 0;
#X connect 10 0 9 0;
#X connect 10 1 20 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 13 0 8 0;
#X connect 13 1 18 0;
#X connect 17 0 7 1;
#X connect 21 0 10 0;
#X connect 21 1 7 0;
#X connect 22 0 13 0;
#X connect 22 1 19 0;
#X restore 50 400 pd midi_input_processing;
#X obj 165 461 unpack f f;
#X obj 120 420 t b list;
#X obj 261 500 s \$0-new_velocity;
#X obj 222 480 t f f f;
#X obj 179 90 cnv 10 40 10 empty empty empty 20 12 0 14 -196159 -66577
0;
#X text 222 58 vel;
#X obj 179 105 cnv 10 40 10 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 179 120 cnv 10 40 10 empty empty empty 20 12 0 14 -255810 -66577
0;
#X text 194 83 0;
#X text 208 121 3;
#X text 208 102 0;
#X text 180 83 3;
#X text 208 83 3;
#X text 180 121 3;
#X text 194 121 0;
#X text 180 102 0;
#X obj 205 81 cnv 2 2 55 empty empty empty 20 12 0 14 -1 -66577 0;
#X obj 178 99 cnv 2 40 2 empty empty empty 20 12 0 14 -1 -66577 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 0 1;
#X connect 3 0 1 2;
#X connect 4 0 0 0;
#X connect 4 0 1 1;
#X connect 55 0 56 0;
#X connect 56 0 57 0;
#X connect 57 0 4 0;
#X connect 57 1 59 0;
#X connect 57 2 58 0;
#X connect 58 0 3 0;
#X connect 58 1 61 0;
#X connect 59 0 4 1;
#X connect 59 1 58 0;
#X connect 61 0 4 2;
#X connect 61 1 3 1;
#X connect 61 2 60 0;
#X coords 0 -1 1 1 220 240 2 40 40;
